{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":49,"index":107}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":39,"index":147}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"secureStorage\", {\n    enumerable: true,\n    get: function () {\n      return secureStorage;\n    }\n  });\n  Object.defineProperty(exports, \"authAPI\", {\n    enumerable: true,\n    get: function () {\n      return authAPI;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[3], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n\n  // Créer une instance axios\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Helper pour le stockage sécurisé cross-platform\n  const secureStorage = {\n    async getItem(key) {\n      if (Platform.default.OS === 'web') {\n        // Fallback to localStorage for web\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n  // Intercepteur pour ajouter le token JWT à chaque requête\n  api.interceptors.request.use(async config => {\n    try {\n      const token = await secureStorage.getItem('jwt_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.error('Erreur lors de la récupération du token:', error);\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Intercepteur pour gérer les erreurs de réponse\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token invalide ou expiré, supprimer le token\n      await secureStorage.deleteItem('jwt_token');\n    }\n    return Promise.reject(error);\n  });\n\n  // Types\n\n  // Fonctions API\n  const authAPI = {\n    register: async data => {\n      const response = await api.post('/auth/register', data);\n      return response.data;\n    },\n    login: async data => {\n      const response = await api.post('/auth/login', data);\n      return response.data;\n    },\n    getCurrentUser: async () => {\n      const response = await api.get('/auth/me');\n      return response.data;\n    },\n    testAuth: async () => {\n      const response = await api.get('/fec/test-auth');\n      return response.data;\n    }\n  };\n  var _default = api;\n});","lineCount":134,"map":[[27,2,122,0,"Object"],[27,8,122,0],[27,9,122,0,"defineProperty"],[27,23,122,0],[27,24,122,0,"exports"],[27,31,122,0],[28,4,122,0,"enumerable"],[28,14,122,0],[29,4,122,0,"get"],[29,7,122,0],[29,18,122,0,"get"],[29,19,122,0],[30,6,122,0],[30,13,122,0,"_default"],[30,21,122,0],[31,4,122,0],[32,2,122,0],[33,2,42,0,"Object"],[33,8,42,0],[33,9,42,0,"defineProperty"],[33,23,42,0],[33,24,42,0,"exports"],[33,31,42,0],[34,4,42,0,"enumerable"],[34,14,42,0],[35,4,42,0,"get"],[35,7,42,0],[35,18,42,0,"get"],[35,19,42,0],[36,6,42,0],[36,13,42,9,"secureStorage"],[36,26,42,22],[37,4,42,22],[38,2,42,22],[39,2,100,0,"Object"],[39,8,100,0],[39,9,100,0,"defineProperty"],[39,23,100,0],[39,24,100,0,"exports"],[39,31,100,0],[40,4,100,0,"enumerable"],[40,14,100,0],[41,4,100,0,"get"],[41,7,100,0],[41,18,100,0,"get"],[41,19,100,0],[42,6,100,0],[42,13,100,0,"authAPI"],[42,20,100,0],[43,4,100,0],[44,2,100,0],[45,2,1,0],[45,6,1,0,"_axios"],[45,12,1,0],[45,15,1,0,"require"],[45,22,1,0],[45,23,1,0,"_dependencyMap"],[45,37,1,0],[46,2,1,0],[46,6,1,0,"axios"],[46,11,1,0],[46,14,1,0,"_interopDefault"],[46,29,1,0],[46,30,1,0,"_axios"],[46,36,1,0],[47,2,2,0],[47,6,2,0,"_expoSecureStore"],[47,22,2,0],[47,25,2,0,"require"],[47,32,2,0],[47,33,2,0,"_dependencyMap"],[47,47,2,0],[48,2,2,0],[48,6,2,0,"SecureStore"],[48,17,2,0],[48,20,2,0,"_interopNamespace"],[48,37,2,0],[48,38,2,0,"_expoSecureStore"],[48,54,2,0],[49,2,3,0],[49,6,3,0,"_expoConstants"],[49,20,3,0],[49,23,3,0,"require"],[49,30,3,0],[49,31,3,0,"_dependencyMap"],[49,45,3,0],[50,2,3,0],[50,6,3,0,"Constants"],[50,15,3,0],[50,18,3,0,"_interopDefault"],[50,33,3,0],[50,34,3,0,"_expoConstants"],[50,48,3,0],[51,2,3,39],[51,6,3,39,"_reactNativeWebDistExportsPlatform"],[51,40,3,39],[51,43,3,39,"require"],[51,50,3,39],[51,51,3,39,"_dependencyMap"],[51,65,3,39],[52,2,3,39],[52,6,3,39,"Platform"],[52,14,3,39],[52,17,3,39,"_interopDefault"],[52,32,3,39],[52,33,3,39,"_reactNativeWebDistExportsPlatform"],[52,67,3,39],[53,2,6,0],[53,8,6,6,"API_URL"],[53,15,6,13],[53,18,6,16,"Constants"],[53,27,6,25],[53,28,6,25,"default"],[53,35,6,25],[53,36,6,26,"expoConfig"],[53,46,6,36],[53,48,6,38,"extra"],[53,53,6,43],[53,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[53,78,6,68],[53,82,6,72,"process"],[53,89,6,79],[53,90,6,80,"env"],[53,93,6,83],[53,94,6,84,"EXPO_PUBLIC_BACKEND_URL"],[53,117,6,107],[53,121,6,111],[53,144,6,134],[55,2,8,0],[56,2,9,0],[56,8,9,6,"api"],[56,11,9,24],[56,14,9,27,"axios"],[56,19,9,32],[56,20,9,32,"default"],[56,27,9,32],[56,28,9,33,"create"],[56,34,9,39],[56,35,9,40],[57,4,10,2,"baseURL"],[57,11,10,9],[57,13,10,11],[57,16,10,14,"API_URL"],[57,23,10,21],[57,29,10,27],[58,4,11,2,"timeout"],[58,11,11,9],[58,13,11,11],[58,18,11,16],[59,4,12,2,"headers"],[59,11,12,9],[59,13,12,11],[60,6,13,4],[60,20,13,18],[60,22,13,20],[61,4,14,2],[62,2,15,0],[62,3,15,1],[62,4,15,2],[64,2,17,0],[65,2,18,0],[65,8,18,6,"secureStorage"],[65,21,18,19],[65,24,18,22],[66,4,19,2],[66,10,19,8,"getItem"],[66,17,19,15,"getItem"],[66,18,19,16,"key"],[66,21,19,27],[66,23,19,53],[67,6,20,4],[67,10,20,8,"Platform"],[67,18,20,16],[67,19,20,16,"default"],[67,26,20,16],[67,27,20,17,"OS"],[67,29,20,19],[67,34,20,24],[67,39,20,29],[67,41,20,31],[68,8,21,6],[69,8,22,6],[69,15,22,13,"localStorage"],[69,27,22,25],[69,28,22,26,"getItem"],[69,35,22,33],[69,36,22,34,"key"],[69,39,22,37],[69,40,22,38],[70,6,23,4],[71,6,24,4],[71,13,24,11],[71,19,24,17,"SecureStore"],[71,30,24,28],[71,31,24,29,"getItemAsync"],[71,43,24,41],[71,44,24,42,"key"],[71,47,24,45],[71,48,24,46],[72,4,25,2],[72,5,25,3],[73,4,26,2],[73,10,26,8,"setItem"],[73,17,26,15,"setItem"],[73,18,26,16,"key"],[73,21,26,27],[73,23,26,29,"value"],[73,28,26,42],[73,30,26,59],[74,6,27,4],[74,10,27,8,"Platform"],[74,18,27,16],[74,19,27,16,"default"],[74,26,27,16],[74,27,27,17,"OS"],[74,29,27,19],[74,34,27,24],[74,39,27,29],[74,41,27,31],[75,8,28,6,"localStorage"],[75,20,28,18],[75,21,28,19,"setItem"],[75,28,28,26],[75,29,28,27,"key"],[75,32,28,30],[75,34,28,32,"value"],[75,39,28,37],[75,40,28,38],[76,6,29,4],[76,7,29,5],[76,13,29,11],[77,8,30,6],[77,14,30,12,"SecureStore"],[77,25,30,23],[77,26,30,24,"setItemAsync"],[77,38,30,36],[77,39,30,37,"key"],[77,42,30,40],[77,44,30,42,"value"],[77,49,30,47],[77,50,30,48],[78,6,31,4],[79,4,32,2],[79,5,32,3],[80,4,33,2],[80,10,33,8,"deleteItem"],[80,20,33,18,"deleteItem"],[80,21,33,19,"key"],[80,24,33,30],[80,26,33,47],[81,6,34,4],[81,10,34,8,"Platform"],[81,18,34,16],[81,19,34,16,"default"],[81,26,34,16],[81,27,34,17,"OS"],[81,29,34,19],[81,34,34,24],[81,39,34,29],[81,41,34,31],[82,8,35,6,"localStorage"],[82,20,35,18],[82,21,35,19,"removeItem"],[82,31,35,29],[82,32,35,30,"key"],[82,35,35,33],[82,36,35,34],[83,6,36,4],[83,7,36,5],[83,13,36,11],[84,8,37,6],[84,14,37,12,"SecureStore"],[84,25,37,23],[84,26,37,24,"deleteItemAsync"],[84,41,37,39],[84,42,37,40,"key"],[84,45,37,43],[84,46,37,44],[85,6,38,4],[86,4,39,2],[87,2,40,0],[87,3,40,1],[88,2,44,0],[89,2,45,0,"api"],[89,5,45,3],[89,6,45,4,"interceptors"],[89,18,45,16],[89,19,45,17,"request"],[89,26,45,24],[89,27,45,25,"use"],[89,30,45,28],[89,31,46,2],[89,37,46,9,"config"],[89,43,46,15],[89,47,46,20],[90,4,47,4],[90,8,47,8],[91,6,48,6],[91,12,48,12,"token"],[91,17,48,17],[91,20,48,20],[91,26,48,26,"secureStorage"],[91,39,48,39],[91,40,48,40,"getItem"],[91,47,48,47],[91,48,48,48],[91,59,48,59],[91,60,48,60],[92,6,49,6],[92,10,49,10,"token"],[92,15,49,15],[92,17,49,17],[93,8,50,8,"config"],[93,14,50,14],[93,15,50,15,"headers"],[93,22,50,22],[93,23,50,23,"Authorization"],[93,36,50,36],[93,39,50,39],[93,49,50,49,"token"],[93,54,50,54],[93,56,50,56],[94,6,51,6],[95,4,52,4],[95,5,52,5],[95,6,52,6],[95,13,52,13,"error"],[95,18,52,18],[95,20,52,20],[96,6,53,6,"console"],[96,13,53,13],[96,14,53,14,"error"],[96,19,53,19],[96,20,53,20],[96,62,53,62],[96,64,53,64,"error"],[96,69,53,69],[96,70,53,70],[97,4,54,4],[98,4,55,4],[98,11,55,11,"config"],[98,17,55,17],[99,2,56,2],[99,3,56,3],[99,5,57,3,"error"],[99,10,57,8],[99,14,57,13],[100,4,58,4],[100,11,58,11,"Promise"],[100,18,58,18],[100,19,58,19,"reject"],[100,25,58,25],[100,26,58,26,"error"],[100,31,58,31],[100,32,58,32],[101,2,59,2],[101,3,60,0],[101,4,60,1],[103,2,62,0],[104,2,63,0,"api"],[104,5,63,3],[104,6,63,4,"interceptors"],[104,18,63,16],[104,19,63,17,"response"],[104,27,63,25],[104,28,63,26,"use"],[104,31,63,29],[104,32,64,3,"response"],[104,40,64,11],[104,44,64,16,"response"],[104,52,64,24],[104,54,65,2],[104,60,65,9,"error"],[104,65,65,26],[104,69,65,31],[105,4,66,4],[105,8,66,8,"error"],[105,13,66,13],[105,14,66,14,"response"],[105,22,66,22],[105,24,66,24,"status"],[105,30,66,30],[105,35,66,35],[105,38,66,38],[105,40,66,40],[106,6,67,6],[107,6,68,6],[107,12,68,12,"secureStorage"],[107,25,68,25],[107,26,68,26,"deleteItem"],[107,36,68,36],[107,37,68,37],[107,48,68,48],[107,49,68,49],[108,4,69,4],[109,4,70,4],[109,11,70,11,"Promise"],[109,18,70,18],[109,19,70,19,"reject"],[109,25,70,25],[109,26,70,26,"error"],[109,31,70,31],[109,32,70,32],[110,2,71,2],[110,3,72,0],[110,4,72,1],[112,2,74,0],[114,2,99,0],[115,2,100,7],[115,8,100,13,"authAPI"],[115,15,100,20],[115,18,100,23],[116,4,101,2,"register"],[116,12,101,10],[116,14,101,12],[116,20,101,19,"data"],[116,24,101,37],[116,28,101,57],[117,6,102,4],[117,12,102,10,"response"],[117,20,102,18],[117,23,102,21],[117,29,102,27,"api"],[117,32,102,30],[117,33,102,31,"post"],[117,37,102,35],[117,38,102,42],[117,54,102,58],[117,56,102,60,"data"],[117,60,102,64],[117,61,102,65],[118,6,103,4],[118,13,103,11,"response"],[118,21,103,19],[118,22,103,20,"data"],[118,26,103,24],[119,4,104,2],[119,5,104,3],[120,4,106,2,"login"],[120,9,106,7],[120,11,106,9],[120,17,106,16,"data"],[120,21,106,31],[120,25,106,60],[121,6,107,4],[121,12,107,10,"response"],[121,20,107,18],[121,23,107,21],[121,29,107,27,"api"],[121,32,107,30],[121,33,107,31,"post"],[121,37,107,35],[121,38,107,51],[121,51,107,64],[121,53,107,66,"data"],[121,57,107,70],[121,58,107,71],[122,6,108,4],[122,13,108,11,"response"],[122,21,108,19],[122,22,108,20,"data"],[122,26,108,24],[123,4,109,2],[123,5,109,3],[124,4,111,2,"getCurrentUser"],[124,18,111,16],[124,20,111,18],[124,26,111,18,"getCurrentUser"],[124,27,111,18],[124,32,111,45],[125,6,112,4],[125,12,112,10,"response"],[125,20,112,18],[125,23,112,21],[125,29,112,27,"api"],[125,32,112,30],[125,33,112,31,"get"],[125,36,112,34],[125,37,112,41],[125,47,112,51],[125,48,112,52],[126,6,113,4],[126,13,113,11,"response"],[126,21,113,19],[126,22,113,20,"data"],[126,26,113,24],[127,4,114,2],[127,5,114,3],[128,4,116,2,"testAuth"],[128,12,116,10],[128,14,116,12],[128,20,116,12,"testAuth"],[128,21,116,12],[128,26,116,74],[129,6,117,4],[129,12,117,10,"response"],[129,20,117,18],[129,23,117,21],[129,29,117,27,"api"],[129,32,117,30],[129,33,117,31,"get"],[129,36,117,34],[129,37,117,35],[129,53,117,51],[129,54,117,52],[130,6,118,4],[130,13,118,11,"response"],[130,21,118,19],[130,22,118,20,"data"],[130,26,118,24],[131,4,119,2],[132,2,120,0],[132,3,120,1],[133,2,122,0],[133,6,122,0,"_default"],[133,14,122,0],[133,17,122,15,"api"],[133,20,122,18],[134,0,122,19],[134,3]],"functionMap":{"names":["<global>","secureStorage.getItem","secureStorage.setItem","secureStorage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","authAPI.register","authAPI.login","authAPI.getCurrentUser","authAPI.testAuth"],"mappings":"AAA;ECkB;GDM;EEC;GFM;EGC;GHM;EIO;GJU;EKC;GLE;EMK,sBN;EOC;GPM;YQ8B;GRG;SSE;GTG;kBUE;GVG;YWE;GXG"},"hasCjsExports":false},"type":"js/module"}]}