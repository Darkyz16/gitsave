{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":49,"index":107}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":39,"index":147}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"authAPI\", {\n    enumerable: true,\n    get: function () {\n      return authAPI;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _expoConstants = require(_dependencyMap[2], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || process.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n\n  // Créer une instance axios\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Intercepteur pour ajouter le token JWT à chaque requête\n  api.interceptors.request.use(async config => {\n    try {\n      const token = await SecureStore.getItemAsync('jwt_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.error('Erreur lors de la récupération du token:', error);\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Intercepteur pour gérer les erreurs de réponse\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token invalide ou expiré, supprimer le token\n      await SecureStore.deleteItemAsync('jwt_token');\n    }\n    return Promise.reject(error);\n  });\n\n  // Types\n\n  // Fonctions API\n  const authAPI = {\n    register: async data => {\n      const response = await api.post('/auth/register', data);\n      return response.data;\n    },\n    login: async data => {\n      const response = await api.post('/auth/login', data);\n      return response.data;\n    },\n    getCurrentUser: async () => {\n      const response = await api.get('/auth/me');\n      return response.data;\n    },\n    testAuth: async () => {\n      const response = await api.get('/fec/test-auth');\n      return response.data;\n    }\n  };\n  var _default = api;\n});","lineCount":102,"map":[[27,2,94,0,"Object"],[27,8,94,0],[27,9,94,0,"defineProperty"],[27,23,94,0],[27,24,94,0,"exports"],[27,31,94,0],[28,4,94,0,"enumerable"],[28,14,94,0],[29,4,94,0,"get"],[29,7,94,0],[29,18,94,0,"get"],[29,19,94,0],[30,6,94,0],[30,13,94,0,"_default"],[30,21,94,0],[31,4,94,0],[32,2,94,0],[33,2,72,0,"Object"],[33,8,72,0],[33,9,72,0,"defineProperty"],[33,23,72,0],[33,24,72,0,"exports"],[33,31,72,0],[34,4,72,0,"enumerable"],[34,14,72,0],[35,4,72,0,"get"],[35,7,72,0],[35,18,72,0,"get"],[35,19,72,0],[36,6,72,0],[36,13,72,0,"authAPI"],[36,20,72,0],[37,4,72,0],[38,2,72,0],[39,2,1,0],[39,6,1,0,"_axios"],[39,12,1,0],[39,15,1,0,"require"],[39,22,1,0],[39,23,1,0,"_dependencyMap"],[39,37,1,0],[40,2,1,0],[40,6,1,0,"axios"],[40,11,1,0],[40,14,1,0,"_interopDefault"],[40,29,1,0],[40,30,1,0,"_axios"],[40,36,1,0],[41,2,2,0],[41,6,2,0,"_expoSecureStore"],[41,22,2,0],[41,25,2,0,"require"],[41,32,2,0],[41,33,2,0,"_dependencyMap"],[41,47,2,0],[42,2,2,0],[42,6,2,0,"SecureStore"],[42,17,2,0],[42,20,2,0,"_interopNamespace"],[42,37,2,0],[42,38,2,0,"_expoSecureStore"],[42,54,2,0],[43,2,3,0],[43,6,3,0,"_expoConstants"],[43,20,3,0],[43,23,3,0,"require"],[43,30,3,0],[43,31,3,0,"_dependencyMap"],[43,45,3,0],[44,2,3,0],[44,6,3,0,"Constants"],[44,15,3,0],[44,18,3,0,"_interopDefault"],[44,33,3,0],[44,34,3,0,"_expoConstants"],[44,48,3,0],[45,2,5,0],[45,8,5,6,"API_URL"],[45,15,5,13],[45,18,5,16,"Constants"],[45,27,5,25],[45,28,5,25,"default"],[45,35,5,25],[45,36,5,26,"expoConfig"],[45,46,5,36],[45,48,5,38,"extra"],[45,53,5,43],[45,55,5,45,"EXPO_PUBLIC_BACKEND_URL"],[45,78,5,68],[45,82,5,72,"process"],[45,89,5,79],[45,90,5,80,"env"],[45,93,5,83],[45,94,5,84,"EXPO_PUBLIC_BACKEND_URL"],[45,117,5,107],[45,121,5,111],[45,144,5,134],[47,2,7,0],[48,2,8,0],[48,8,8,6,"api"],[48,11,8,24],[48,14,8,27,"axios"],[48,19,8,32],[48,20,8,32,"default"],[48,27,8,32],[48,28,8,33,"create"],[48,34,8,39],[48,35,8,40],[49,4,9,2,"baseURL"],[49,11,9,9],[49,13,9,11],[49,16,9,14,"API_URL"],[49,23,9,21],[49,29,9,27],[50,4,10,2,"timeout"],[50,11,10,9],[50,13,10,11],[50,18,10,16],[51,4,11,2,"headers"],[51,11,11,9],[51,13,11,11],[52,6,12,4],[52,20,12,18],[52,22,12,20],[53,4,13,2],[54,2,14,0],[54,3,14,1],[54,4,14,2],[56,2,16,0],[57,2,17,0,"api"],[57,5,17,3],[57,6,17,4,"interceptors"],[57,18,17,16],[57,19,17,17,"request"],[57,26,17,24],[57,27,17,25,"use"],[57,30,17,28],[57,31,18,2],[57,37,18,9,"config"],[57,43,18,15],[57,47,18,20],[58,4,19,4],[58,8,19,8],[59,6,20,6],[59,12,20,12,"token"],[59,17,20,17],[59,20,20,20],[59,26,20,26,"SecureStore"],[59,37,20,37],[59,38,20,38,"getItemAsync"],[59,50,20,50],[59,51,20,51],[59,62,20,62],[59,63,20,63],[60,6,21,6],[60,10,21,10,"token"],[60,15,21,15],[60,17,21,17],[61,8,22,8,"config"],[61,14,22,14],[61,15,22,15,"headers"],[61,22,22,22],[61,23,22,23,"Authorization"],[61,36,22,36],[61,39,22,39],[61,49,22,49,"token"],[61,54,22,54],[61,56,22,56],[62,6,23,6],[63,4,24,4],[63,5,24,5],[63,6,24,6],[63,13,24,13,"error"],[63,18,24,18],[63,20,24,20],[64,6,25,6,"console"],[64,13,25,13],[64,14,25,14,"error"],[64,19,25,19],[64,20,25,20],[64,62,25,62],[64,64,25,64,"error"],[64,69,25,69],[64,70,25,70],[65,4,26,4],[66,4,27,4],[66,11,27,11,"config"],[66,17,27,17],[67,2,28,2],[67,3,28,3],[67,5,29,3,"error"],[67,10,29,8],[67,14,29,13],[68,4,30,4],[68,11,30,11,"Promise"],[68,18,30,18],[68,19,30,19,"reject"],[68,25,30,25],[68,26,30,26,"error"],[68,31,30,31],[68,32,30,32],[69,2,31,2],[69,3,32,0],[69,4,32,1],[71,2,34,0],[72,2,35,0,"api"],[72,5,35,3],[72,6,35,4,"interceptors"],[72,18,35,16],[72,19,35,17,"response"],[72,27,35,25],[72,28,35,26,"use"],[72,31,35,29],[72,32,36,3,"response"],[72,40,36,11],[72,44,36,16,"response"],[72,52,36,24],[72,54,37,2],[72,60,37,9,"error"],[72,65,37,26],[72,69,37,31],[73,4,38,4],[73,8,38,8,"error"],[73,13,38,13],[73,14,38,14,"response"],[73,22,38,22],[73,24,38,24,"status"],[73,30,38,30],[73,35,38,35],[73,38,38,38],[73,40,38,40],[74,6,39,6],[75,6,40,6],[75,12,40,12,"SecureStore"],[75,23,40,23],[75,24,40,24,"deleteItemAsync"],[75,39,40,39],[75,40,40,40],[75,51,40,51],[75,52,40,52],[76,4,41,4],[77,4,42,4],[77,11,42,11,"Promise"],[77,18,42,18],[77,19,42,19,"reject"],[77,25,42,25],[77,26,42,26,"error"],[77,31,42,31],[77,32,42,32],[78,2,43,2],[78,3,44,0],[78,4,44,1],[80,2,46,0],[82,2,71,0],[83,2,72,7],[83,8,72,13,"authAPI"],[83,15,72,20],[83,18,72,23],[84,4,73,2,"register"],[84,12,73,10],[84,14,73,12],[84,20,73,19,"data"],[84,24,73,37],[84,28,73,57],[85,6,74,4],[85,12,74,10,"response"],[85,20,74,18],[85,23,74,21],[85,29,74,27,"api"],[85,32,74,30],[85,33,74,31,"post"],[85,37,74,35],[85,38,74,42],[85,54,74,58],[85,56,74,60,"data"],[85,60,74,64],[85,61,74,65],[86,6,75,4],[86,13,75,11,"response"],[86,21,75,19],[86,22,75,20,"data"],[86,26,75,24],[87,4,76,2],[87,5,76,3],[88,4,78,2,"login"],[88,9,78,7],[88,11,78,9],[88,17,78,16,"data"],[88,21,78,31],[88,25,78,60],[89,6,79,4],[89,12,79,10,"response"],[89,20,79,18],[89,23,79,21],[89,29,79,27,"api"],[89,32,79,30],[89,33,79,31,"post"],[89,37,79,35],[89,38,79,51],[89,51,79,64],[89,53,79,66,"data"],[89,57,79,70],[89,58,79,71],[90,6,80,4],[90,13,80,11,"response"],[90,21,80,19],[90,22,80,20,"data"],[90,26,80,24],[91,4,81,2],[91,5,81,3],[92,4,83,2,"getCurrentUser"],[92,18,83,16],[92,20,83,18],[92,26,83,18,"getCurrentUser"],[92,27,83,18],[92,32,83,45],[93,6,84,4],[93,12,84,10,"response"],[93,20,84,18],[93,23,84,21],[93,29,84,27,"api"],[93,32,84,30],[93,33,84,31,"get"],[93,36,84,34],[93,37,84,41],[93,47,84,51],[93,48,84,52],[94,6,85,4],[94,13,85,11,"response"],[94,21,85,19],[94,22,85,20,"data"],[94,26,85,24],[95,4,86,2],[95,5,86,3],[96,4,88,2,"testAuth"],[96,12,88,10],[96,14,88,12],[96,20,88,12,"testAuth"],[96,21,88,12],[96,26,88,74],[97,6,89,4],[97,12,89,10,"response"],[97,20,89,18],[97,23,89,21],[97,29,89,27,"api"],[97,32,89,30],[97,33,89,31,"get"],[97,36,89,34],[97,37,89,35],[97,53,89,51],[97,54,89,52],[98,6,90,4],[98,13,90,11,"response"],[98,21,90,19],[98,22,90,20,"data"],[98,26,90,24],[99,4,91,2],[100,2,92,0],[100,3,92,1],[101,2,94,0],[101,6,94,0,"_default"],[101,14,94,0],[101,17,94,15,"api"],[101,20,94,18],[102,0,94,19],[102,3]],"functionMap":{"names":["<global>","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","authAPI.register","authAPI.login","authAPI.getCurrentUser","authAPI.testAuth"],"mappings":"AAA;ECiB;GDU;EEC;GFE;EGK,sBH;EIC;GJM;YK8B;GLG;SME;GNG;kBOE;GPG;YQE;GRG"},"hasCjsExports":false},"type":"js/module"}]}