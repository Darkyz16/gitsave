{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":49,"index":107}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"secureStorage\", {\n    enumerable: true,\n    get: function () {\n      return secureStorage;\n    }\n  });\n  Object.defineProperty(exports, \"authAPI\", {\n    enumerable: true,\n    get: function () {\n      return authAPI;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[1], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[2], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  // Configuration de l'URL de l'API\n  // En environnement Kubernetes, le backend est accessible via le mÃªme domaine\n  // Les routes /api/* sont automatiquement redirigÃ©es vers le backend (port 8001)\n\n  // URL de l'API - mÃªme domaine pour web et mobile car ingress gÃ¨re le routing\n  const API_URL = 'https://finance-data-api.preview.emergentagent.com';\n  console.log('ðŸ”§ API URL configurÃ©e:', API_URL);\n  console.log('ðŸ“± Platform:', Platform.default.OS);\n\n  // CrÃ©er une instance axios\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Helper pour le stockage sÃ©curisÃ© cross-platform\n  const secureStorage = {\n    async getItem(key) {\n      if (Platform.default.OS === 'web') {\n        // Fallback to localStorage for web\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n  // Intercepteur pour ajouter le token JWT Ã  chaque requÃªte\n  api.interceptors.request.use(async config => {\n    try {\n      const token = await secureStorage.getItem('jwt_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.error('Erreur lors de la rÃ©cupÃ©ration du token:', error);\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Intercepteur pour gÃ©rer les erreurs de rÃ©ponse\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token invalide ou expirÃ©, supprimer le token\n      await secureStorage.deleteItem('jwt_token');\n    }\n    return Promise.reject(error);\n  });\n\n  // Types\n\n  // Fonctions API\n  const authAPI = {\n    register: async data => {\n      const response = await api.post('/auth/register', data);\n      return response.data;\n    },\n    login: async data => {\n      const response = await api.post('/auth/login', data);\n      return response.data;\n    },\n    getCurrentUser: async () => {\n      const response = await api.get('/auth/me');\n      return response.data;\n    },\n    testAuth: async () => {\n      const response = await api.get('/fec/test-auth');\n      return response.data;\n    }\n  };\n  var _default = api;\n});","lineCount":139,"map":[[27,2,130,0,"Object"],[27,8,130,0],[27,9,130,0,"defineProperty"],[27,23,130,0],[27,24,130,0,"exports"],[27,31,130,0],[28,4,130,0,"enumerable"],[28,14,130,0],[29,4,130,0,"get"],[29,7,130,0],[29,18,130,0,"get"],[29,19,130,0],[30,6,130,0],[30,13,130,0,"_default"],[30,21,130,0],[31,4,130,0],[32,2,130,0],[33,2,50,0,"Object"],[33,8,50,0],[33,9,50,0,"defineProperty"],[33,23,50,0],[33,24,50,0,"exports"],[33,31,50,0],[34,4,50,0,"enumerable"],[34,14,50,0],[35,4,50,0,"get"],[35,7,50,0],[35,18,50,0,"get"],[35,19,50,0],[36,6,50,0],[36,13,50,9,"secureStorage"],[36,26,50,22],[37,4,50,22],[38,2,50,22],[39,2,108,0,"Object"],[39,8,108,0],[39,9,108,0,"defineProperty"],[39,23,108,0],[39,24,108,0,"exports"],[39,31,108,0],[40,4,108,0,"enumerable"],[40,14,108,0],[41,4,108,0,"get"],[41,7,108,0],[41,18,108,0,"get"],[41,19,108,0],[42,6,108,0],[42,13,108,0,"authAPI"],[42,20,108,0],[43,4,108,0],[44,2,108,0],[45,2,1,0],[45,6,1,0,"_axios"],[45,12,1,0],[45,15,1,0,"require"],[45,22,1,0],[45,23,1,0,"_dependencyMap"],[45,37,1,0],[46,2,1,0],[46,6,1,0,"axios"],[46,11,1,0],[46,14,1,0,"_interopDefault"],[46,29,1,0],[46,30,1,0,"_axios"],[46,36,1,0],[47,2,2,0],[47,6,2,0,"_expoSecureStore"],[47,22,2,0],[47,25,2,0,"require"],[47,32,2,0],[47,33,2,0,"_dependencyMap"],[47,47,2,0],[48,2,2,0],[48,6,2,0,"SecureStore"],[48,17,2,0],[48,20,2,0,"_interopNamespace"],[48,37,2,0],[48,38,2,0,"_expoSecureStore"],[48,54,2,0],[49,2,2,49],[49,6,2,49,"_reactNativeWebDistExportsPlatform"],[49,40,2,49],[49,43,2,49,"require"],[49,50,2,49],[49,51,2,49,"_dependencyMap"],[49,65,2,49],[50,2,2,49],[50,6,2,49,"Platform"],[50,14,2,49],[50,17,2,49,"_interopDefault"],[50,32,2,49],[50,33,2,49,"_reactNativeWebDistExportsPlatform"],[50,67,2,49],[51,2,6,0],[52,2,7,0],[53,2,8,0],[55,2,10,0],[56,2,11,0],[56,8,11,6,"API_URL"],[56,15,11,13],[56,18,11,16],[56,70,11,68],[57,2,13,0,"console"],[57,9,13,7],[57,10,13,8,"log"],[57,13,13,11],[57,14,13,12],[57,38,13,36],[57,40,13,38,"API_URL"],[57,47,13,45],[57,48,13,46],[58,2,14,0,"console"],[58,9,14,7],[58,10,14,8,"log"],[58,13,14,11],[58,14,14,12],[58,28,14,26],[58,30,14,28,"Platform"],[58,38,14,36],[58,39,14,36,"default"],[58,46,14,36],[58,47,14,37,"OS"],[58,49,14,39],[58,50,14,40],[60,2,16,0],[61,2,17,0],[61,8,17,6,"api"],[61,11,17,24],[61,14,17,27,"axios"],[61,19,17,32],[61,20,17,32,"default"],[61,27,17,32],[61,28,17,33,"create"],[61,34,17,39],[61,35,17,40],[62,4,18,2,"baseURL"],[62,11,18,9],[62,13,18,11],[62,16,18,14,"API_URL"],[62,23,18,21],[62,29,18,27],[63,4,19,2,"timeout"],[63,11,19,9],[63,13,19,11],[63,18,19,16],[64,4,20,2,"headers"],[64,11,20,9],[64,13,20,11],[65,6,21,4],[65,20,21,18],[65,22,21,20],[66,4,22,2],[67,2,23,0],[67,3,23,1],[67,4,23,2],[69,2,25,0],[70,2,26,0],[70,8,26,6,"secureStorage"],[70,21,26,19],[70,24,26,22],[71,4,27,2],[71,10,27,8,"getItem"],[71,17,27,15,"getItem"],[71,18,27,16,"key"],[71,21,27,27],[71,23,27,53],[72,6,28,4],[72,10,28,8,"Platform"],[72,18,28,16],[72,19,28,16,"default"],[72,26,28,16],[72,27,28,17,"OS"],[72,29,28,19],[72,34,28,24],[72,39,28,29],[72,41,28,31],[73,8,29,6],[74,8,30,6],[74,15,30,13,"localStorage"],[74,27,30,25],[74,28,30,26,"getItem"],[74,35,30,33],[74,36,30,34,"key"],[74,39,30,37],[74,40,30,38],[75,6,31,4],[76,6,32,4],[76,13,32,11],[76,19,32,17,"SecureStore"],[76,30,32,28],[76,31,32,29,"getItemAsync"],[76,43,32,41],[76,44,32,42,"key"],[76,47,32,45],[76,48,32,46],[77,4,33,2],[77,5,33,3],[78,4,34,2],[78,10,34,8,"setItem"],[78,17,34,15,"setItem"],[78,18,34,16,"key"],[78,21,34,27],[78,23,34,29,"value"],[78,28,34,42],[78,30,34,59],[79,6,35,4],[79,10,35,8,"Platform"],[79,18,35,16],[79,19,35,16,"default"],[79,26,35,16],[79,27,35,17,"OS"],[79,29,35,19],[79,34,35,24],[79,39,35,29],[79,41,35,31],[80,8,36,6,"localStorage"],[80,20,36,18],[80,21,36,19,"setItem"],[80,28,36,26],[80,29,36,27,"key"],[80,32,36,30],[80,34,36,32,"value"],[80,39,36,37],[80,40,36,38],[81,6,37,4],[81,7,37,5],[81,13,37,11],[82,8,38,6],[82,14,38,12,"SecureStore"],[82,25,38,23],[82,26,38,24,"setItemAsync"],[82,38,38,36],[82,39,38,37,"key"],[82,42,38,40],[82,44,38,42,"value"],[82,49,38,47],[82,50,38,48],[83,6,39,4],[84,4,40,2],[84,5,40,3],[85,4,41,2],[85,10,41,8,"deleteItem"],[85,20,41,18,"deleteItem"],[85,21,41,19,"key"],[85,24,41,30],[85,26,41,47],[86,6,42,4],[86,10,42,8,"Platform"],[86,18,42,16],[86,19,42,16,"default"],[86,26,42,16],[86,27,42,17,"OS"],[86,29,42,19],[86,34,42,24],[86,39,42,29],[86,41,42,31],[87,8,43,6,"localStorage"],[87,20,43,18],[87,21,43,19,"removeItem"],[87,31,43,29],[87,32,43,30,"key"],[87,35,43,33],[87,36,43,34],[88,6,44,4],[88,7,44,5],[88,13,44,11],[89,8,45,6],[89,14,45,12,"SecureStore"],[89,25,45,23],[89,26,45,24,"deleteItemAsync"],[89,41,45,39],[89,42,45,40,"key"],[89,45,45,43],[89,46,45,44],[90,6,46,4],[91,4,47,2],[92,2,48,0],[92,3,48,1],[93,2,52,0],[94,2,53,0,"api"],[94,5,53,3],[94,6,53,4,"interceptors"],[94,18,53,16],[94,19,53,17,"request"],[94,26,53,24],[94,27,53,25,"use"],[94,30,53,28],[94,31,54,2],[94,37,54,9,"config"],[94,43,54,15],[94,47,54,20],[95,4,55,4],[95,8,55,8],[96,6,56,6],[96,12,56,12,"token"],[96,17,56,17],[96,20,56,20],[96,26,56,26,"secureStorage"],[96,39,56,39],[96,40,56,40,"getItem"],[96,47,56,47],[96,48,56,48],[96,59,56,59],[96,60,56,60],[97,6,57,6],[97,10,57,10,"token"],[97,15,57,15],[97,17,57,17],[98,8,58,8,"config"],[98,14,58,14],[98,15,58,15,"headers"],[98,22,58,22],[98,23,58,23,"Authorization"],[98,36,58,36],[98,39,58,39],[98,49,58,49,"token"],[98,54,58,54],[98,56,58,56],[99,6,59,6],[100,4,60,4],[100,5,60,5],[100,6,60,6],[100,13,60,13,"error"],[100,18,60,18],[100,20,60,20],[101,6,61,6,"console"],[101,13,61,13],[101,14,61,14,"error"],[101,19,61,19],[101,20,61,20],[101,62,61,62],[101,64,61,64,"error"],[101,69,61,69],[101,70,61,70],[102,4,62,4],[103,4,63,4],[103,11,63,11,"config"],[103,17,63,17],[104,2,64,2],[104,3,64,3],[104,5,65,3,"error"],[104,10,65,8],[104,14,65,13],[105,4,66,4],[105,11,66,11,"Promise"],[105,18,66,18],[105,19,66,19,"reject"],[105,25,66,25],[105,26,66,26,"error"],[105,31,66,31],[105,32,66,32],[106,2,67,2],[106,3,68,0],[106,4,68,1],[108,2,70,0],[109,2,71,0,"api"],[109,5,71,3],[109,6,71,4,"interceptors"],[109,18,71,16],[109,19,71,17,"response"],[109,27,71,25],[109,28,71,26,"use"],[109,31,71,29],[109,32,72,3,"response"],[109,40,72,11],[109,44,72,16,"response"],[109,52,72,24],[109,54,73,2],[109,60,73,9,"error"],[109,65,73,26],[109,69,73,31],[110,4,74,4],[110,8,74,8,"error"],[110,13,74,13],[110,14,74,14,"response"],[110,22,74,22],[110,24,74,24,"status"],[110,30,74,30],[110,35,74,35],[110,38,74,38],[110,40,74,40],[111,6,75,6],[112,6,76,6],[112,12,76,12,"secureStorage"],[112,25,76,25],[112,26,76,26,"deleteItem"],[112,36,76,36],[112,37,76,37],[112,48,76,48],[112,49,76,49],[113,4,77,4],[114,4,78,4],[114,11,78,11,"Promise"],[114,18,78,18],[114,19,78,19,"reject"],[114,25,78,25],[114,26,78,26,"error"],[114,31,78,31],[114,32,78,32],[115,2,79,2],[115,3,80,0],[115,4,80,1],[117,2,82,0],[119,2,107,0],[120,2,108,7],[120,8,108,13,"authAPI"],[120,15,108,20],[120,18,108,23],[121,4,109,2,"register"],[121,12,109,10],[121,14,109,12],[121,20,109,19,"data"],[121,24,109,37],[121,28,109,57],[122,6,110,4],[122,12,110,10,"response"],[122,20,110,18],[122,23,110,21],[122,29,110,27,"api"],[122,32,110,30],[122,33,110,31,"post"],[122,37,110,35],[122,38,110,42],[122,54,110,58],[122,56,110,60,"data"],[122,60,110,64],[122,61,110,65],[123,6,111,4],[123,13,111,11,"response"],[123,21,111,19],[123,22,111,20,"data"],[123,26,111,24],[124,4,112,2],[124,5,112,3],[125,4,114,2,"login"],[125,9,114,7],[125,11,114,9],[125,17,114,16,"data"],[125,21,114,31],[125,25,114,60],[126,6,115,4],[126,12,115,10,"response"],[126,20,115,18],[126,23,115,21],[126,29,115,27,"api"],[126,32,115,30],[126,33,115,31,"post"],[126,37,115,35],[126,38,115,51],[126,51,115,64],[126,53,115,66,"data"],[126,57,115,70],[126,58,115,71],[127,6,116,4],[127,13,116,11,"response"],[127,21,116,19],[127,22,116,20,"data"],[127,26,116,24],[128,4,117,2],[128,5,117,3],[129,4,119,2,"getCurrentUser"],[129,18,119,16],[129,20,119,18],[129,26,119,18,"getCurrentUser"],[129,27,119,18],[129,32,119,45],[130,6,120,4],[130,12,120,10,"response"],[130,20,120,18],[130,23,120,21],[130,29,120,27,"api"],[130,32,120,30],[130,33,120,31,"get"],[130,36,120,34],[130,37,120,41],[130,47,120,51],[130,48,120,52],[131,6,121,4],[131,13,121,11,"response"],[131,21,121,19],[131,22,121,20,"data"],[131,26,121,24],[132,4,122,2],[132,5,122,3],[133,4,124,2,"testAuth"],[133,12,124,10],[133,14,124,12],[133,20,124,12,"testAuth"],[133,21,124,12],[133,26,124,74],[134,6,125,4],[134,12,125,10,"response"],[134,20,125,18],[134,23,125,21],[134,29,125,27,"api"],[134,32,125,30],[134,33,125,31,"get"],[134,36,125,34],[134,37,125,35],[134,53,125,51],[134,54,125,52],[135,6,126,4],[135,13,126,11,"response"],[135,21,126,19],[135,22,126,20,"data"],[135,26,126,24],[136,4,127,2],[137,2,128,0],[137,3,128,1],[138,2,130,0],[138,6,130,0,"_default"],[138,14,130,0],[138,17,130,15,"api"],[138,20,130,18],[139,0,130,19],[139,3]],"functionMap":{"names":["<global>","secureStorage.getItem","secureStorage.setItem","secureStorage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","authAPI.register","authAPI.login","authAPI.getCurrentUser","authAPI.testAuth"],"mappings":"AAA;EC0B;GDM;EEC;GFM;EGC;GHM;EIO;GJU;EKC;GLE;EMK,sBN;EOC;GPM;YQ8B;GRG;SSE;GTG;kBUE;GVG;YWE;GXG"},"hasCjsExports":false},"type":"js/module"}]}