{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":49,"index":107}}],"key":"BU2XtfznZ4PiVldqd/oueHCCaLo=","exportNames":["*"],"imports":1}},{"name":"expo-constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":108},"end":{"line":3,"column":39,"index":147}}],"key":"pPv5KzfRT0rL6NCr7G9k0o4d1W8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"secureStorage\", {\n    enumerable: true,\n    get: function () {\n      return secureStorage;\n    }\n  });\n  Object.defineProperty(exports, \"authAPI\", {\n    enumerable: true,\n    get: function () {\n      return authAPI;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _axios = require(_dependencyMap[1], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _expoSecureStore = require(_dependencyMap[2], \"expo-secure-store\");\n  var SecureStore = _interopNamespace(_expoSecureStore);\n  var _expoConstants = require(_dependencyMap[3], \"expo-constants\");\n  var Constants = _interopDefault(_expoConstants);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  const API_URL = Constants.default.expoConfig?.extra?.EXPO_PUBLIC_BACKEND_URL || _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'http://localhost:8001';\n\n  // Créer une instance axios\n  const api = axios.default.create({\n    baseURL: `${API_URL}/api`,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Helper pour le stockage sécurisé cross-platform\n  const secureStorage = {\n    async getItem(key) {\n      if (Platform.default.OS === 'web') {\n        // Fallback to localStorage for web\n        return localStorage.getItem(key);\n      }\n      return await SecureStore.getItemAsync(key);\n    },\n    async setItem(key, value) {\n      if (Platform.default.OS === 'web') {\n        localStorage.setItem(key, value);\n      } else {\n        await SecureStore.setItemAsync(key, value);\n      }\n    },\n    async deleteItem(key) {\n      if (Platform.default.OS === 'web') {\n        localStorage.removeItem(key);\n      } else {\n        await SecureStore.deleteItemAsync(key);\n      }\n    }\n  };\n  // Intercepteur pour ajouter le token JWT à chaque requête\n  api.interceptors.request.use(async config => {\n    try {\n      const token = await secureStorage.getItem('jwt_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.error('Erreur lors de la récupération du token:', error);\n    }\n    return config;\n  }, error => {\n    return Promise.reject(error);\n  });\n\n  // Intercepteur pour gérer les erreurs de réponse\n  api.interceptors.response.use(response => response, async error => {\n    if (error.response?.status === 401) {\n      // Token invalide ou expiré, supprimer le token\n      await secureStorage.deleteItem('jwt_token');\n    }\n    return Promise.reject(error);\n  });\n\n  // Types\n\n  // Fonctions API\n  const authAPI = {\n    register: async data => {\n      const response = await api.post('/auth/register', data);\n      return response.data;\n    },\n    login: async data => {\n      const response = await api.post('/auth/login', data);\n      return response.data;\n    },\n    getCurrentUser: async () => {\n      const response = await api.get('/auth/me');\n      return response.data;\n    },\n    testAuth: async () => {\n      const response = await api.get('/fec/test-auth');\n      return response.data;\n    }\n  };\n  var _default = api;\n});","lineCount":135,"map":[[27,2,122,0,"Object"],[27,8,122,0],[27,9,122,0,"defineProperty"],[27,23,122,0],[27,24,122,0,"exports"],[27,31,122,0],[28,4,122,0,"enumerable"],[28,14,122,0],[29,4,122,0,"get"],[29,7,122,0],[29,18,122,0,"get"],[29,19,122,0],[30,6,122,0],[30,13,122,0,"_default"],[30,21,122,0],[31,4,122,0],[32,2,122,0],[33,2,42,0,"Object"],[33,8,42,0],[33,9,42,0,"defineProperty"],[33,23,42,0],[33,24,42,0,"exports"],[33,31,42,0],[34,4,42,0,"enumerable"],[34,14,42,0],[35,4,42,0,"get"],[35,7,42,0],[35,18,42,0,"get"],[35,19,42,0],[36,6,42,0],[36,13,42,9,"secureStorage"],[36,26,42,22],[37,4,42,22],[38,2,42,22],[39,2,100,0,"Object"],[39,8,100,0],[39,9,100,0,"defineProperty"],[39,23,100,0],[39,24,100,0,"exports"],[39,31,100,0],[40,4,100,0,"enumerable"],[40,14,100,0],[41,4,100,0,"get"],[41,7,100,0],[41,18,100,0,"get"],[41,19,100,0],[42,6,100,0],[42,13,100,0,"authAPI"],[42,20,100,0],[43,4,100,0],[44,2,100,0],[45,2,120,2],[45,6,120,2,"_expoVirtualEnv"],[45,21,120,2],[45,24,120,2,"require"],[45,31,120,2],[45,32,120,2,"_dependencyMap"],[45,46,120,2],[46,2,1,0],[46,6,1,0,"_axios"],[46,12,1,0],[46,15,1,0,"require"],[46,22,1,0],[46,23,1,0,"_dependencyMap"],[46,37,1,0],[47,2,1,0],[47,6,1,0,"axios"],[47,11,1,0],[47,14,1,0,"_interopDefault"],[47,29,1,0],[47,30,1,0,"_axios"],[47,36,1,0],[48,2,2,0],[48,6,2,0,"_expoSecureStore"],[48,22,2,0],[48,25,2,0,"require"],[48,32,2,0],[48,33,2,0,"_dependencyMap"],[48,47,2,0],[49,2,2,0],[49,6,2,0,"SecureStore"],[49,17,2,0],[49,20,2,0,"_interopNamespace"],[49,37,2,0],[49,38,2,0,"_expoSecureStore"],[49,54,2,0],[50,2,3,0],[50,6,3,0,"_expoConstants"],[50,20,3,0],[50,23,3,0,"require"],[50,30,3,0],[50,31,3,0,"_dependencyMap"],[50,45,3,0],[51,2,3,0],[51,6,3,0,"Constants"],[51,15,3,0],[51,18,3,0,"_interopDefault"],[51,33,3,0],[51,34,3,0,"_expoConstants"],[51,48,3,0],[52,2,3,39],[52,6,3,39,"_reactNativeWebDistExportsPlatform"],[52,40,3,39],[52,43,3,39,"require"],[52,50,3,39],[52,51,3,39,"_dependencyMap"],[52,65,3,39],[53,2,3,39],[53,6,3,39,"Platform"],[53,14,3,39],[53,17,3,39,"_interopDefault"],[53,32,3,39],[53,33,3,39,"_reactNativeWebDistExportsPlatform"],[53,67,3,39],[54,2,6,0],[54,8,6,6,"API_URL"],[54,15,6,13],[54,18,6,16,"Constants"],[54,27,6,25],[54,28,6,25,"default"],[54,35,6,25],[54,36,6,26,"expoConfig"],[54,46,6,36],[54,48,6,38,"extra"],[54,53,6,43],[54,55,6,45,"EXPO_PUBLIC_BACKEND_URL"],[54,78,6,68],[54,82,6,68,"_expoVirtualEnv"],[54,97,6,68],[54,98,6,68,"env"],[54,101,6,68],[54,102,6,68,"EXPO_PUBLIC_BACKEND_URL"],[54,125,6,107],[54,129,6,111],[54,152,6,134],[56,2,8,0],[57,2,9,0],[57,8,9,6,"api"],[57,11,9,24],[57,14,9,27,"axios"],[57,19,9,32],[57,20,9,32,"default"],[57,27,9,32],[57,28,9,33,"create"],[57,34,9,39],[57,35,9,40],[58,4,10,2,"baseURL"],[58,11,10,9],[58,13,10,11],[58,16,10,14,"API_URL"],[58,23,10,21],[58,29,10,27],[59,4,11,2,"timeout"],[59,11,11,9],[59,13,11,11],[59,18,11,16],[60,4,12,2,"headers"],[60,11,12,9],[60,13,12,11],[61,6,13,4],[61,20,13,18],[61,22,13,20],[62,4,14,2],[63,2,15,0],[63,3,15,1],[63,4,15,2],[65,2,17,0],[66,2,18,0],[66,8,18,6,"secureStorage"],[66,21,18,19],[66,24,18,22],[67,4,19,2],[67,10,19,8,"getItem"],[67,17,19,15,"getItem"],[67,18,19,16,"key"],[67,21,19,27],[67,23,19,53],[68,6,20,4],[68,10,20,8,"Platform"],[68,18,20,16],[68,19,20,16,"default"],[68,26,20,16],[68,27,20,17,"OS"],[68,29,20,19],[68,34,20,24],[68,39,20,29],[68,41,20,31],[69,8,21,6],[70,8,22,6],[70,15,22,13,"localStorage"],[70,27,22,25],[70,28,22,26,"getItem"],[70,35,22,33],[70,36,22,34,"key"],[70,39,22,37],[70,40,22,38],[71,6,23,4],[72,6,24,4],[72,13,24,11],[72,19,24,17,"SecureStore"],[72,30,24,28],[72,31,24,29,"getItemAsync"],[72,43,24,41],[72,44,24,42,"key"],[72,47,24,45],[72,48,24,46],[73,4,25,2],[73,5,25,3],[74,4,26,2],[74,10,26,8,"setItem"],[74,17,26,15,"setItem"],[74,18,26,16,"key"],[74,21,26,27],[74,23,26,29,"value"],[74,28,26,42],[74,30,26,59],[75,6,27,4],[75,10,27,8,"Platform"],[75,18,27,16],[75,19,27,16,"default"],[75,26,27,16],[75,27,27,17,"OS"],[75,29,27,19],[75,34,27,24],[75,39,27,29],[75,41,27,31],[76,8,28,6,"localStorage"],[76,20,28,18],[76,21,28,19,"setItem"],[76,28,28,26],[76,29,28,27,"key"],[76,32,28,30],[76,34,28,32,"value"],[76,39,28,37],[76,40,28,38],[77,6,29,4],[77,7,29,5],[77,13,29,11],[78,8,30,6],[78,14,30,12,"SecureStore"],[78,25,30,23],[78,26,30,24,"setItemAsync"],[78,38,30,36],[78,39,30,37,"key"],[78,42,30,40],[78,44,30,42,"value"],[78,49,30,47],[78,50,30,48],[79,6,31,4],[80,4,32,2],[80,5,32,3],[81,4,33,2],[81,10,33,8,"deleteItem"],[81,20,33,18,"deleteItem"],[81,21,33,19,"key"],[81,24,33,30],[81,26,33,47],[82,6,34,4],[82,10,34,8,"Platform"],[82,18,34,16],[82,19,34,16,"default"],[82,26,34,16],[82,27,34,17,"OS"],[82,29,34,19],[82,34,34,24],[82,39,34,29],[82,41,34,31],[83,8,35,6,"localStorage"],[83,20,35,18],[83,21,35,19,"removeItem"],[83,31,35,29],[83,32,35,30,"key"],[83,35,35,33],[83,36,35,34],[84,6,36,4],[84,7,36,5],[84,13,36,11],[85,8,37,6],[85,14,37,12,"SecureStore"],[85,25,37,23],[85,26,37,24,"deleteItemAsync"],[85,41,37,39],[85,42,37,40,"key"],[85,45,37,43],[85,46,37,44],[86,6,38,4],[87,4,39,2],[88,2,40,0],[88,3,40,1],[89,2,44,0],[90,2,45,0,"api"],[90,5,45,3],[90,6,45,4,"interceptors"],[90,18,45,16],[90,19,45,17,"request"],[90,26,45,24],[90,27,45,25,"use"],[90,30,45,28],[90,31,46,2],[90,37,46,9,"config"],[90,43,46,15],[90,47,46,20],[91,4,47,4],[91,8,47,8],[92,6,48,6],[92,12,48,12,"token"],[92,17,48,17],[92,20,48,20],[92,26,48,26,"secureStorage"],[92,39,48,39],[92,40,48,40,"getItem"],[92,47,48,47],[92,48,48,48],[92,59,48,59],[92,60,48,60],[93,6,49,6],[93,10,49,10,"token"],[93,15,49,15],[93,17,49,17],[94,8,50,8,"config"],[94,14,50,14],[94,15,50,15,"headers"],[94,22,50,22],[94,23,50,23,"Authorization"],[94,36,50,36],[94,39,50,39],[94,49,50,49,"token"],[94,54,50,54],[94,56,50,56],[95,6,51,6],[96,4,52,4],[96,5,52,5],[96,6,52,6],[96,13,52,13,"error"],[96,18,52,18],[96,20,52,20],[97,6,53,6,"console"],[97,13,53,13],[97,14,53,14,"error"],[97,19,53,19],[97,20,53,20],[97,62,53,62],[97,64,53,64,"error"],[97,69,53,69],[97,70,53,70],[98,4,54,4],[99,4,55,4],[99,11,55,11,"config"],[99,17,55,17],[100,2,56,2],[100,3,56,3],[100,5,57,3,"error"],[100,10,57,8],[100,14,57,13],[101,4,58,4],[101,11,58,11,"Promise"],[101,18,58,18],[101,19,58,19,"reject"],[101,25,58,25],[101,26,58,26,"error"],[101,31,58,31],[101,32,58,32],[102,2,59,2],[102,3,60,0],[102,4,60,1],[104,2,62,0],[105,2,63,0,"api"],[105,5,63,3],[105,6,63,4,"interceptors"],[105,18,63,16],[105,19,63,17,"response"],[105,27,63,25],[105,28,63,26,"use"],[105,31,63,29],[105,32,64,3,"response"],[105,40,64,11],[105,44,64,16,"response"],[105,52,64,24],[105,54,65,2],[105,60,65,9,"error"],[105,65,65,26],[105,69,65,31],[106,4,66,4],[106,8,66,8,"error"],[106,13,66,13],[106,14,66,14,"response"],[106,22,66,22],[106,24,66,24,"status"],[106,30,66,30],[106,35,66,35],[106,38,66,38],[106,40,66,40],[107,6,67,6],[108,6,68,6],[108,12,68,12,"secureStorage"],[108,25,68,25],[108,26,68,26,"deleteItem"],[108,36,68,36],[108,37,68,37],[108,48,68,48],[108,49,68,49],[109,4,69,4],[110,4,70,4],[110,11,70,11,"Promise"],[110,18,70,18],[110,19,70,19,"reject"],[110,25,70,25],[110,26,70,26,"error"],[110,31,70,31],[110,32,70,32],[111,2,71,2],[111,3,72,0],[111,4,72,1],[113,2,74,0],[115,2,99,0],[116,2,100,7],[116,8,100,13,"authAPI"],[116,15,100,20],[116,18,100,23],[117,4,101,2,"register"],[117,12,101,10],[117,14,101,12],[117,20,101,19,"data"],[117,24,101,37],[117,28,101,57],[118,6,102,4],[118,12,102,10,"response"],[118,20,102,18],[118,23,102,21],[118,29,102,27,"api"],[118,32,102,30],[118,33,102,31,"post"],[118,37,102,35],[118,38,102,42],[118,54,102,58],[118,56,102,60,"data"],[118,60,102,64],[118,61,102,65],[119,6,103,4],[119,13,103,11,"response"],[119,21,103,19],[119,22,103,20,"data"],[119,26,103,24],[120,4,104,2],[120,5,104,3],[121,4,106,2,"login"],[121,9,106,7],[121,11,106,9],[121,17,106,16,"data"],[121,21,106,31],[121,25,106,60],[122,6,107,4],[122,12,107,10,"response"],[122,20,107,18],[122,23,107,21],[122,29,107,27,"api"],[122,32,107,30],[122,33,107,31,"post"],[122,37,107,35],[122,38,107,51],[122,51,107,64],[122,53,107,66,"data"],[122,57,107,70],[122,58,107,71],[123,6,108,4],[123,13,108,11,"response"],[123,21,108,19],[123,22,108,20,"data"],[123,26,108,24],[124,4,109,2],[124,5,109,3],[125,4,111,2,"getCurrentUser"],[125,18,111,16],[125,20,111,18],[125,26,111,18,"getCurrentUser"],[125,27,111,18],[125,32,111,45],[126,6,112,4],[126,12,112,10,"response"],[126,20,112,18],[126,23,112,21],[126,29,112,27,"api"],[126,32,112,30],[126,33,112,31,"get"],[126,36,112,34],[126,37,112,41],[126,47,112,51],[126,48,112,52],[127,6,113,4],[127,13,113,11,"response"],[127,21,113,19],[127,22,113,20,"data"],[127,26,113,24],[128,4,114,2],[128,5,114,3],[129,4,116,2,"testAuth"],[129,12,116,10],[129,14,116,12],[129,20,116,12,"testAuth"],[129,21,116,12],[129,26,116,74],[130,6,117,4],[130,12,117,10,"response"],[130,20,117,18],[130,23,117,21],[130,29,117,27,"api"],[130,32,117,30],[130,33,117,31,"get"],[130,36,117,34],[130,37,117,35],[130,53,117,51],[130,54,117,52],[131,6,118,4],[131,13,118,11,"response"],[131,21,118,19],[131,22,118,20,"data"],[131,26,118,24],[132,4,119,2],[133,2,120,0],[133,3,120,1],[134,2,122,0],[134,6,122,0,"_default"],[134,14,122,0],[134,17,122,15,"api"],[134,20,122,18],[135,0,122,19],[135,3]],"functionMap":{"names":["<global>","secureStorage.getItem","secureStorage.setItem","secureStorage.deleteItem","interceptors.request.use$argument_0","interceptors.request.use$argument_1","interceptors.response.use$argument_0","interceptors.response.use$argument_1","authAPI.register","authAPI.login","authAPI.getCurrentUser","authAPI.testAuth"],"mappings":"AAA;ECkB;GDM;EEC;GFM;EGC;GHM;EIO;GJU;EKC;GLE;EMK,sBN;EOC;GPM;YQ8B;GRG;SSE;GTG;kBUE;GVG;YWE;GXG"},"hasCjsExports":false},"type":"js/module"}]}